webpackJsonp([1],{"1Zi6":function(t,e){},"9bI3":function(t,e){},DreH:function(t,e){},NHnr:function(t,e,n){"use strict";function a(t){n("9bI3")}function s(t){n("DreH")}function i(t){n("1Zi6")}function r(t){n("PDMv")}function o(t){n("ygmo")}function l(t){n("W5C1")}Object.defineProperty(e,"__esModule",{value:!0});var c=n("7+uW"),u=n("/ocq"),d={name:"on-tap-batch",props:["batch","index"],data:function(){return{onTapColors:["red","pink","purple","deep-purple"],upcomingColors:["light-green","lime","amber","orange","deep-orange"],batchProgress:0}},computed:{style:function(t){return t.batch.style},name:function(t){return t.batch.name},status:function(t){return t.batch.status},abv:function(t){return t.batch.abv},untappdAppLink:function(t){return t.batch.untappd?"untappd://beer/"+t.batch.untappd.split("/").pop():""},baseColor:function(){return"ontap"===this.status?this.onTapColors[this.batch.tap-1]:this.upcomingColors[this.index]},bgColor:function(){return this.baseColor+" darken-2"},buttonColor:function(){return this.baseColor+" lighten-2"},remaining:function(t){return t.batchProgress>=100?"Kicked any day now...":isNaN(t.batchProgress)?"Who knows?":100-t.batchProgress+"%"}},mounted:function(){var t=new Date(this.batch.kegged),e=new Date(this.batch.empty),n=e-t,a=new Date,s=a-t,i=this;setTimeout(function(){i.batchProgress=Math.round(s/n*100)},150*this.batch.tap)}},v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{staticClass:"pa-1 mt-1",attrs:{md3:"",sm6:"",xs12:""}},[n("v-card",{staticClass:"white--text",attrs:{color:t.bgColor}},[n("div",{staticClass:"tap-name"},[t._v(t._s(t.batch.tap))]),t._v(" "),n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("div",{staticClass:"headline"},[t._v(t._s(t.name))]),t._v(" "),n("span",{staticClass:"style-name"},[t._v(t._s(t.style))])])]),t._v(" "),n("v-card-text",[n("div",[t._v(t._s(t.batch.description))]),t._v(" "),t.abv?n("div",[n("strong",[t._v("ABV:")]),t._v(" "+t._s(t.abv)+"%")]):t._e(),t._v(" "),t.batchProgress?n("div",[n("strong",[t._v("Remaining:")]),t._v(" "+t._s(t.remaining)+"\n        "),n("v-progress-linear",{attrs:{size:100,width:25,value:t.batchProgress,color:"white"}})],1):t._e()]),t._v(" "),n("v-card-actions",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.batch.untappd,expression:"batch.untappd"}],staticClass:"hidden-sm-and-down",attrs:{dark:"",color:t.buttonColor,target:"_blank",href:t.batch.untappd}},[t._v("Check in")]),t._v(" "),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.untappdAppLink,expression:"untappdAppLink"}],staticClass:"hidden-md-and-up",attrs:{dark:"",color:t.buttonColor,target:"_blank",href:t.untappdAppLink}},[t._v("Check in")])],1)],1)],1)},p=[],h={render:v,staticRenderFns:p},f=h,m=n("VU/8"),_=a,g=m(d,f,!1,_,null,null),b=g.exports,k=n("mtWM"),w=n.n(k),x={data:function(){return{title:"What to Brewery Pipeline",ontap:[],upcoming:[],kicked:[],updated:"",copyright:(new Date).getFullYear(),url:"http://up.jamesnweber.com/_kegs/api/model.php"}},created:function(){var t=this;w.a.get(t.url).then(function(e){var n=e.data.beers;t.ontap=n.filter(function(t){return"ontap"===t.status}).sort(function(t,e){return t.tap>e.tap?1:-1}),t.upcoming=n.filter(function(t){return["fermenting","planned","kegged"].includes(t.status)}),t.kicked=n.filter(function(t){return["kicked"].includes(t.status)});var a=new Date(e.data.updated);t.updated=a.toLocaleString()})},components:{BatchView:b}},y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",{attrs:{fixed:"",app:"",dark:"",color:"primary"}},[n("v-toolbar-title",{domProps:{textContent:t._s(t.title)}})],1),t._v(" "),n("v-content",[n("v-container",{attrs:{fluid:"","grid-list-xs":""}},[n("h1",{staticClass:"display-3 grey--text text--darken-1 text-xs-center"},[t._v("On tap")]),t._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.ontap,function(t){return n("batch-view",{key:t.name,attrs:{batch:t}})})),t._v(" "),n("h1",{staticClass:"display-3 grey--text text--darken-1 text-xs-center"},[t._v("On deck")]),t._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.upcoming,function(t,e){return n("batch-view",{key:t.name,attrs:{index:e,batch:t}})})),t._v(" "),n("h2",{staticClass:"display-1 grey--text text--darken-1 mt-2 pt-3 text-xs-center"},[t._v("Recently kicked")]),t._v(" "),n("v-layout",{staticClass:"ml-1"},[n("ul",t._l(t.kicked,function(e,a){return n("li",{key:a},[n("strong",[t._v(t._s(e.name))]),t._v(" "),n("em",[t._v(t._s(e.style))])])}))])],1),t._v(" "),n("v-footer",{attrs:{fixed:"",app:""}},[n("span",[t._v("Updated: "+t._s(t.updated))]),t._v(" "),n("v-spacer"),t._v(" "),n("span",[t._v("Â© "+t._s(t.copyright))])],1)],1),t._v(">\n")],1)},C=[],D={render:y,staticRenderFns:C},S=D,$=n("VU/8"),K=$(x,S,!1,null,null,null),P=K.exports,O={props:["beers"],data:function(){return{filterOnTap:!1}},computed:{beerList:function(){var t=this.beers.sort(function(t,e){var t=parseInt(t.keg_data.tap)||50,e=parseInt(e.keg_data.tap)||50;return t<=e?-1:1});return this.filterOnTap?t.filter(function(t){return t.keg_data.tap}):t}},methods:{selected:function(t){var e="/edit/"+t;this.$router.push({path:e})},isSelected:function(t){return t===this.$route.params.beer},icon:function(t){if(t){return["","looks_one","looks_two","looks_3","looks_4"][t]}}}},V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-checkbox",{attrs:{label:"Ontap only"},model:{value:t.filterOnTap,callback:function(e){t.filterOnTap=e},expression:"filterOnTap"}}),t._v(" "),n("router-link",{attrs:{to:"/edit/new"}},[t._v("+\n  ")]),t._v(" "),n("v-list",{attrs:{"two-line":""}},[t._l(t.beerList,function(e,a){return[e.header?n("v-subheader",{key:e.header},[t._v(t._s(e.header))]):e.divider?n("v-divider",{key:a,attrs:{inset:e.inset}}):n("v-list-tile",{key:a,class:{selected:t.isSelected(e.id)},attrs:{avatar:""},on:{click:function(n){t.selected(e.id)}}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"active"},[t._v(t._s(t.icon(e.keg_data.tap)))])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.keg_data.name)}}),t._v(" "),n("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.keg_data.style)}})],1),t._v(" "),n("v-list-tile-action",[n("v-btn",{attrs:{icon:"",ripple:""}},[n("v-icon",{attrs:{color:"red lighten-1"}})],1)],1)],1)]})],2)],1)},T=[],F={render:V,staticRenderFns:T},R=F,E=n("VU/8"),B=s,L=E(O,R,!1,B,null,null),N=L.exports,U={data:function(){return{id:void 0,name:void 0,abv:void 0,description:void 0,empty:void 0,kegged:void 0,status:void 0,style:void 0,tap:void 0,untappd:void 0,saving:!1,showSuccess:!1,showDelete:!1,valid:!0,beer:{},tapOptions:[{text:"Off",value:null},{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4}],statusOptions:[{text:"On tap",value:"ontap"},{text:"Kicked",value:"kicked"},{text:"Fermenting",value:"fermenting"},{text:"Planned",value:"planned"},{text:"Kegged",value:"kegged"}]}},props:["kegData"],watch:{kegData:function(t){this.setKeg(t)}},created:function(){this.setKeg(this.kegData)},methods:{save:function(){var t={name:this.name,abv:this.abv,description:this.description,empty:this.empty,kegged:this.kegged,status:this.status,style:this.style,tap:this.tap,untappd:this.untappd};this.$emit("save",t)},reset:function(){this.setKeg(this.kegData)},deleteKeg:function(){this.showDelete=!1,this.$emit("delete")},setKeg:function(t){this.name=t.name,this.abv=t.abv,this.description=t.description,this.empty=t.empty,this.kegged=t.kegged,this.status=t.status,this.style=t.style,this.tap=t.tap,this.untappd=t.untappd}}},A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("v-text-field",{attrs:{label:"ABV"},model:{value:t.abv,callback:function(e){t.abv=e},expression:"abv"}}),t._v(" "),n("v-text-field",{attrs:{label:"Description",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),n("v-text-field",{attrs:{label:"empty"},model:{value:t.empty,callback:function(e){t.empty=e},expression:"empty"}}),t._v(" "),n("v-text-field",{attrs:{label:"kegged"},model:{value:t.kegged,callback:function(e){t.kegged=e},expression:"kegged"}}),t._v(" "),n("v-select",{attrs:{items:t.statusOptions,label:"Status"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}}),t._v(" "),n("v-text-field",{attrs:{label:"style",required:""},model:{value:t.style,callback:function(e){t.style=e},expression:"style"}}),t._v(" "),n("v-select",{attrs:{items:t.tapOptions,label:"tap"},model:{value:t.tap,callback:function(e){t.tap=e},expression:"tap"}}),t._v(" "),n("v-text-field",{attrs:{label:"untappd"},model:{value:t.untappd,callback:function(e){t.untappd=e},expression:"untappd"}}),t._v(" "),n("v-btn",{attrs:{color:"success",loading:t.saving,disabled:t.saving},on:{click:t.save}},[t._v("Save")]),t._v(" "),n("v-btn",{attrs:{color:"warning"},on:{click:t.reset}},[t._v("Reset")]),t._v(" "),n("v-dialog",{directives:[{name:"show",rawName:"v-show",value:t.name,expression:"name"}],attrs:{width:"500"},model:{value:t.showDelete,callback:function(e){t.showDelete=e},expression:"showDelete"}},[n("v-btn",{attrs:{slot:"activator",color:"red lighten-2",dark:""},on:{click:function(e){t.showDelete=!0}},slot:"activator"},[t._v("\n    Delete\n  ")]),t._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-1",attrs:{"primary-title":""}},[t._v("\n      Delete\n    ")]),t._v(" "),n("v-card-text",[t._v("\n      Are you sure you want to delete "),n("strong",[t._v(t._s(t.name))]),t._v("?\n    ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.showDelete=!1}}},[t._v("\n        Cancel\n      ")]),t._v(" "),n("v-btn",{attrs:{color:"red lighten-1",dark:""},on:{click:t.deleteKeg}},[t._v("\n        Delete\n      ")])],1)],1)],1)],1)},M=[],W={render:A,staticRenderFns:M},H=W,j=n("VU/8"),q=i,I=j(U,H,!1,q,null,null),z=I.exports,Q={components:{KegForm:z},data:function(){return{id:void 0,kegData:void 0,saving:!1,showSuccess:!1,showDeleteSuccess:!1,name:void 0,valid:!0,beer:{}}},watch:{beer:function(t){t&&t.keg_data&&this.setKeg(t)},$route:function(t,e){this.load()}},computed:{url:function(){return"http://up.jamesnweber.com/_kegs/api/keg.php?id="+this.id},showForm:function(){return"new"===this.id||this.beer}},created:function(){this.load()},methods:{load:function(){var t=this;t.id=this.$route.params.beer,w.a.get(t.url).then(function(e){t.beer=e.data,t.setKeg(t.beer)})},save:function(t){this.saving=!0;var e=this,t={id:this.id,keg_data:t};w.a.put(this.url,t).then(function(t){e.saving=!1,e.showSuccess=!0,setTimeout(function(){e.showSuccess=!1},3e3)}).catch(function(t){console.log(t)})},deleteKeg:function(){var t=this;w.a.delete(this.url).then(function(e){t.showDeleteSuccess=!0,t.$emit("loadBeers"),setTimeout(function(){t.showDeleteSuccess=!1,t.$router.push("/edit")},3e3)})},setKeg:function(t){var e=t.keg_data;this.kegData=e,this.name=e.name}}},Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.name?n("v-container",[n("h1",[t._v(t._s(t.name))]),t._v(" "),n("keg-form",{attrs:{kegData:t.kegData},on:{save:t.save,delete:t.deleteKeg}}),t._v(" "),n("div",[n("v-alert",{attrs:{value:t.showSuccess,type:"success",transition:"slide-y-transition"}},[t._v("\n        Saved successfully\n      ")]),t._v(" "),n("v-alert",{attrs:{value:t.showDeleteSuccess,type:"warning",transition:"slide-y-transition"}},[t._v("\n        Deleted successfully\n      ")])],1)],1):t._e()},J=[],Y={render:Z,staticRenderFns:J},G=Y,X=n("VU/8"),tt=r,et=X(Q,G,!1,tt,null,null),nt=et.exports,at={data:function(){return{beers:[],selected:void 0,title:"Edit",url:"http://up.jamesnweber.com/_kegs/api/keg.php"}},components:{EditList:N,EditView:nt},created:function(){this.loadBeers()},computed:{selectedBeer:function(){if(this.selected>=0)return this.beers[this.selected]}},methods:{select:function(t){this.selected=t},loadBeers:function(){var t=this;w.a.get(t.url).then(function(e){t.beers=e.data})}}},st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",{attrs:{fixed:"",app:"",dark:"",color:"primary"}},[n("v-toolbar-title",{domProps:{textContent:t._s(t.title)}})],1),t._v(" "),n("v-content",[n("v-container",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs4:""}},[n("edit-list",{attrs:{beers:t.beers},on:{selected:t.select}})],1),t._v(" "),n("v-flex",{attrs:{xs8:""}},[n("router-view",{on:{loadBeers:t.loadBeers}})],1)],1)],1)],1)],1)},it=[],rt={render:st,staticRenderFns:it},ot=rt,lt=n("VU/8"),ct=o,ut=lt(at,ot,!1,ct,"data-v-1c5fdbcc",null),dt=ut.exports,vt={components:{KegForm:z},data:function(){return{saving:!1,showSuccess:!1,url:"http://up.jamesnweber.com/_kegs/api/keg.php"}},methods:{save:function(t){var e=this;w.a.post(this.url,t).then(function(t){e.showSuccess=!0,e.$emit("loadBeers"),t.data.id&&e.$router.push("/edit/"+t.data.id),setTimeout(function(){e.showSuccess=!1},3e3)}).catch(function(t){console.log(t)})}}},pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("h1",[t._v("New beer")]),t._v(" "),n("keg-form",{attrs:{kegData:{}},on:{save:t.save}}),t._v(" "),n("div",[n("v-alert",{attrs:{value:t.showSuccess,type:"success",transition:"slide-y-transition"}},[t._v("\n        Saved successfully\n      ")])],1)],1)},ht=[],ft={render:pt,staticRenderFns:ht},mt=ft,_t=n("VU/8"),gt=l,bt=_t(vt,mt,!1,gt,null,null),kt=bt.exports,wt=[{path:"",component:P},{path:"/edit",component:dt,children:[{path:"new",component:kt},{path:":beer",component:nt}]}],xt=n("3EgV"),yt=n.n(xt),Ct=(n("QCv7"),{data:function(){return{title:"What to brew"}}}),Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("router-view")],1)},St=[],$t={render:Dt,staticRenderFns:St},Kt=$t,Pt=n("VU/8"),Ot=Pt(Ct,Kt,!1,null,null,null),Vt=Ot.exports;c.a.use(u.a),c.a.use(yt.a),c.a.config.productionTip=!1;var Tt=new u.a({routes:wt});new c.a({el:"#app",template:"<RouterView/>",components:{RouterView:Vt},router:Tt})},PDMv:function(t,e){},QCv7:function(t,e){},W5C1:function(t,e){},ygmo:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6f32c2ebe16c7e29b9e8.js.map